<!DOCTYPE html>
<html lang="en">
<head>
    <!--<meta charset="UTF-8">-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>文档编辑页面</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" type="text/css" href="../common/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../common/editormd/css/editormd.min.css"/>
</head>
<body>
<div id="layout" style="margin-top: 15px">
    <form class="layui-form" action="/admin/editarticle" method="post">

        <div class="layui-form-item">
            <label class="layui-form-label">标题：</label>
            <div class="layui-input-block">
                <input type="text" name="rticle.title" required lay-verify="required" placeholder="请输入标题"
                       autocomplete="off"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">留学类型：</label>
            <div class="layui-input-block">
                <select name="rticle.classification" lay-verify="required">
                    <option value=""></option>
                    <option value="留学荷英">留学荷英</option>
                    <option value="留学北欧">留学北欧</option>
                    <option value="留学德法">留学德法</option>
                    <option value="欧洲其他">欧洲其他</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">文章类型：</label>
            <div class="layui-input-block">
                <select name="rticle.type" lay-verify="required">
                    <option value=""></option>
                    <option value="学院院系">学院院系</option>
                    <option value="专业解读">专业解读</option>
                    <option value="申请细节">申请细节</option>
                    <option value="文书写作">文书写作</option>
                    <option value="学术论文">学术论文</option>
                    <option value="留学工具">留学工具</option>
                </select>
            </div>
        </div>
        <input type="hidden" name="rticle.category" value="精华文章">
        <!--<div class="layui-form-item layui-form-text">-->
            <div id="editormd" >
                <textarea id="my-editormd-doc" style="display:none;"
                          name="rticle.context">### hello editor.md</textarea>
                <!-- 注意：name属性的值-->
                <textarea id="my-editormd-html-code" name="textarea2" style="display:none;"></textarea>
            </div>
        <!--</div>-->
        <div style="width:90%;margin: 10px auto;">
            <input class="layui-btn" type="submit" lay-filter="formarticle" value="提交表单" style="padding: 5px;"/>
        </div>
    </form>
</div>
<script src="../common/editormd/examples/js/jquery.min.js"></script>
<script src="../common/editormd/editormd.min.js"></script>
<script type="text/javascript" src="../common/layui/layui.js"></script>
<script type="text/javascript">
    var editor = editormd({
        width: "100%",
        height: 640,
        id: "editormd",
        path: "../common/editormd/lib/",
        flowChart: true,//流程图
        sequenceDiagram: true, //时序图
        tex: true, //科学公式
        taskList: true,
        emoji: true,//表情
        /**上传图片相关配置如下*/
        imageUpload: true,
        imageFormats: ["jpg", "jpeg", "gif", "png"],
        imageUploadURL: "/upload/editormdImage",//注意后端的上传图片服务地址
        //跨域提交
        crossDomainUpload: false,
        uploadCallbackURL: "",
        saveHTMLToTextarea: true //这个配置，方便post提交表单
    });
    // editor.getMarkdown();
</script>
<script>
    layui.use('form', function () {
        var form = layui.form();
        // 监听提交
        // form.on('submit(formarticle)', function (data) {
        //     layer.alert(JSON.stringify(data.field), {
        //         title: '最终的提交信息'
        //     });
        //     return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
        // });

    });
</script>
</body>
</html>